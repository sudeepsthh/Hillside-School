<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hillside English School | Empowering Minds</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              royal: {
                800: '#003366', // Professional Dark Blue
                900: '#002244', // Deep Navy
              },
              gold: {
                400: '#E6B800',
                500: '#C4961A',
                600: '#A37B15',
              },
              slate: {
                850: '#1e293b',
              }
            },
            fontFamily: {
              serif: ['Georgia', 'Cambria', '"Times New Roman"', 'Times', 'serif'],
              sans: ['"Helvetica Neue"', 'Helvetica', 'Arial', 'sans-serif'],
            },
            animation: {
                'fade-in-down': 'fadeInDown 0.3s ease-out forwards',
                'toast-in': 'toastIn 0.3s ease-out forwards',
                'toast-out': 'toastOut 0.3s ease-in forwards',
                'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            },
            keyframes: {
                fadeInDown: {
                    '0%': { opacity: '0', transform: 'translateY(-10px)' },
                    '100%': { opacity: '1', transform: 'translateY(0)' },
                },
                toastIn: {
                    '0%': { opacity: '0', transform: 'translateY(20px)' },
                    '100%': { opacity: '1', transform: 'translateY(0)' },
                },
                toastOut: {
                    '0%': { opacity: '1', transform: 'translateY(0)' },
                    '100%': { opacity: '0', transform: 'translateY(20px)' },
                }
            }
          },
        },
      };
    </script>
    <style>
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #999;
        }
        .toast {
            pointer-events: auto;
        }
        /* Ensure scrolling doesn't hide content behind fixed header */
        .scroll-mt-28 {
            scroll-margin-top: 7rem;
        }
    </style>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google GenAI Import Map -->
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.37.0",
    "react": "https://esm.sh/react@^19.2.4",
    "lucide-react": "https://esm.sh/lucide-react@^0.563.0",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>
  <link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-stone-50 text-slate-800 antialiased font-sans">
    
    <!-- HEADER -->
    <header id="main-header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 ease-in-out bg-white/95 backdrop-blur-sm py-4 md:py-5 border-b border-gray-100">
      <div class="max-w-[1600px] mx-auto px-4 sm:px-8 lg:px-16">
        <div class="flex justify-between items-center">
          <!-- Logo Section -->
          <div class="flex items-center space-x-3 cursor-pointer" onclick="scrollToTop()">
            <!-- Placeholder Logo Image -->
            <img 
              src="SchoolLogo.png" 
              alt="Hillside School Logo" 
              class="w-10 h-10 md:w-14 md:h-14 rounded-full object-contain"
            />
            <div class="hidden md:block">
              <h1 class="text-xl md:text-2xl font-serif font-bold text-royal-800 tracking-tight leading-none">
                HILLSIDE
              </h1>
              <span class="text-[10px] md:text-xs text-gray-500 font-semibold tracking-widest uppercase">
                English School
              </span>
            </div>
            <!-- Mobile Text (Simplified) -->
             <div class="md:hidden">
              <h1 class="text-lg font-serif font-bold text-royal-800 tracking-tight leading-none">
                HILLSIDE
              </h1>
            </div>
          </div>

          <!-- Desktop Navigation -->
          <nav class="hidden lg:flex items-center space-x-8">
            <button onclick="scrollToTop()" class="text-sm font-semibold text-gray-700 hover:text-royal-800 transition-colors flex items-center group">
              Home
            </button>
            <button onclick="scrollToSection('about')" class="text-sm font-semibold text-gray-700 hover:text-royal-800 transition-colors flex items-center group">
              About Us <i data-lucide="chevron-down" class="ml-1 opacity-50 group-hover:opacity-100 w-3.5 h-3.5"></i>
            </button>
            <button onclick="scrollToSection('academics')" class="text-sm font-semibold text-gray-700 hover:text-royal-800 transition-colors flex items-center group">
              Academic Programs <i data-lucide="chevron-down" class="ml-1 opacity-50 group-hover:opacity-100 w-3.5 h-3.5"></i>
            </button>
            <button onclick="scrollToSection('notices')" class="text-sm font-semibold text-gray-700 hover:text-royal-800 transition-colors flex items-center group">
              Notices
            </button>
            <button onclick="scrollToSection('approach')" class="text-sm font-semibold text-gray-700 hover:text-royal-800 transition-colors flex items-center group">
              Facilities
            </button>
            <button onclick="scrollToSection('contact')" class="text-sm font-semibold text-gray-700 hover:text-royal-800 transition-colors flex items-center group">
              Contact
            </button>
            
            <button onclick="openSearch()" class="text-gray-400 hover:text-royal-800 transition-colors">
              <i data-lucide="search" class="w-5 h-5"></i>
            </button>
            
            <button onclick="openApplyModal()" class="bg-royal-800 text-white px-5 py-2 rounded-sm text-sm font-bold hover:bg-royal-900 transition-colors shadow-sm">
              Apply Now
            </button>
          </nav>

          <!-- Mobile Menu Button -->
          <div class="lg:hidden flex items-center">
             <button onclick="openSearch()" class="mr-3 text-gray-600">
                <i data-lucide="search" class="w-6 h-6"></i>
             </button>
            <button id="mobile-menu-btn" class="text-gray-800 focus:outline-none p-1">
              <i data-lucide="menu" id="menu-icon" class="w-7 h-7"></i>
              <i data-lucide="x" id="close-icon" class="w-7 h-7 hidden"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Menu Dropdown -->
      <div id="mobile-menu" class="hidden lg:hidden absolute top-full left-0 right-0 bg-white border-b border-gray-200 shadow-xl py-4 px-4 flex flex-col space-y-4 animate-fade-in-down h-screen sm:h-auto">
        <button onclick="scrollToTop()" class="mobile-link text-left w-full text-lg font-medium text-gray-800 py-3 border-b border-gray-50">Home</button>
        <button onclick="scrollToSection('about')" class="mobile-link text-left w-full text-lg font-medium text-gray-800 py-3 border-b border-gray-50">About Us</button>
        <button onclick="scrollToSection('academics')" class="mobile-link text-left w-full text-lg font-medium text-gray-800 py-3 border-b border-gray-50">Academic Programs</button>
        <button onclick="scrollToSection('notices')" class="mobile-link text-left w-full text-lg font-medium text-gray-800 py-3 border-b border-gray-50">Notices</button>
        <button onclick="scrollToSection('approach')" class="mobile-link text-left w-full text-lg font-medium text-gray-800 py-3 border-b border-gray-50">Facilities</button>
        <button onclick="scrollToSection('contact')" class="mobile-link text-left w-full text-lg font-medium text-gray-800 py-3 border-b border-gray-50">Contact</button>
        <button onclick="openApplyModal(); toggleMenu();" class="mobile-link w-full bg-royal-800 text-white text-center py-4 rounded-sm font-bold mt-4 shadow-lg">Apply Now</button>
      </div>
    </header>

    <main>
        <!-- HERO -->
        <section id="home" class="relative pt-24 pb-12 lg:pt-32 lg:pb-24 overflow-hidden min-h-[90vh] lg:min-h-0 flex items-center">
            <div class="absolute inset-0 z-0">
                <img src="School.png" alt="Hillside School Building" class="w-full h-full object-cover" />
                <div class="absolute inset-0 bg-gradient-to-b md:bg-gradient-to-r from-royal-900/95 via-royal-800/85 to-slate-900/60"></div>
            </div>

            <div class="relative z-10 max-w-[1600px] mx-auto px-4 sm:px-8 lg:px-16 w-full flex flex-col justify-center">
                <div class="max-w-3xl">
                <h2 class="text-gold-500 font-bold tracking-widest uppercase text-xs md:text-sm mb-3 md:mb-4">
                    Pokhara-12, Kaski
                </h2>
                <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-serif font-bold text-white mb-4 md:mb-6 leading-tight">
                    Welcome to <br />
                    Hillside <span class="text-gold-500">English School</span>
                </h1>
                <p class="text-base md:text-xl text-gray-200 mb-8 font-light leading-relaxed border-l-4 border-gold-500 pl-4 md:pl-6">
                    "Empowering minds, inspiring futures"
                    <br class="hidden md:block" /> committed to academic excellence and holistic development.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-3 md:gap-4">
                    <button onclick="openApplyModal()" class="group bg-white text-royal-900 px-6 md:px-8 py-3 rounded-sm font-bold text-base md:text-lg hover:bg-gray-100 transition-all flex items-center justify-center">
                    Admissions Open
                    <i data-lucide="arrow-right" class="ml-2 w-4 h-4 md:w-5 md:h-5 group-hover:translate-x-1 transition-transform"></i>
                    </button>
                    <button onclick="scrollToSection('academics')" class="group border border-white/30 hover:border-white text-white px-6 md:px-8 py-3 rounded-sm font-medium text-base md:text-lg hover:bg-white/10 transition-all flex items-center justify-center backdrop-blur-sm">
                    <i data-lucide="book-open" class="mr-2 w-4 h-4 md:w-5 md:h-5"></i>
                    Academic Programs
                    </button>
                </div>
                </div>

                <!-- Stats Strip -->
                <div class="mt-12 md:mt-16 pt-8 border-t border-white/20 grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 text-center md:text-left">
                    <div class="text-white">
                        <div class="text-2xl md:text-4xl font-serif font-bold text-gold-500 mb-1">500+</div>
                        <div class="text-[10px] md:text-sm text-gray-300 font-medium uppercase tracking-wide">Students</div>
                    </div>
                    <div class="text-white">
                        <div class="text-2xl md:text-4xl font-serif font-bold text-gold-500 mb-1">25+</div>
                        <div class="text-[10px] md:text-sm text-gray-300 font-medium uppercase tracking-wide">Qualified Teachers</div>
                    </div>
                    <div class="text-white">
                        <div class="text-2xl md:text-4xl font-serif font-bold text-gold-500 mb-1">100%</div>
                        <div class="text-[10px] md:text-sm text-gray-300 font-medium uppercase tracking-wide">SEE Pass Rate</div>
                    </div>
                    <div class="text-white">
                        <div class="text-2xl md:text-4xl font-serif font-bold text-gold-500 mb-1">10+</div>
                        <div class="text-[10px] md:text-sm text-gray-300 font-medium uppercase tracking-wide">Years of Excellence</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ABOUT SECTION -->
        <section id="about" class="py-12 md:py-20 bg-white scroll-mt-28">
            <div class="max-w-[1600px] mx-auto px-4 sm:px-8 lg:px-16">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-20 items-center">
                <!-- Introduction -->
                <div class="order-2 lg:order-1">
                    <h4 class="text-royal-800 font-bold uppercase tracking-widest text-xs md:text-sm mb-3 md:mb-4">Who We Are</h4>
                    <h2 class="text-2xl md:text-3xl font-serif font-bold text-slate-900 mb-4 md:mb-6">
                    Nurturing Potential, Inspiring Excellence
                    </h2>
                    <p class="text-gray-600 mb-4 md:mb-6 leading-relaxed text-justify text-sm md:text-base">
                    Hillside English School, located in the peaceful environment of Malepatan, Pokhara, is dedicated to providing quality education. We create an atmosphere where students can grow intellectually, socially, and emotionally.
                    </p>
                    <p class="text-gray-600 mb-4 md:mb-6 leading-relaxed text-justify text-sm md:text-base">
                    Our curriculum is designed to meet national standards while incorporating modern teaching methodologies. We focus on practical learning, discipline, and moral values to prepare our students for the challenges of the 21st century.
                    </p>
                    
                    <div class="bg-stone-50 border-l-4 border-royal-800 p-4 md:p-6 mt-6 md:mt-8">
                        <h3 class="font-bold text-royal-800 mb-1 md:mb-2">Our Motto</h3>
                        <p class="text-xs md:text-sm text-gray-600 italic">
                        "Empowering minds, inspiring futures"
                        </p>
                    </div>
                </div>
                
                <!-- School Photo Layout -->
                <div class="relative group order-1 lg:order-2">
                     <!-- Decorative back frame -->
                    <div class="absolute top-2 left-2 md:top-4 md:left-4 w-full h-full border-2 border-gold-500 rounded-lg -z-10 transition-transform duration-500 group-hover:translate-x-2 group-hover:translate-y-2"></div>
                    
                    <div class="relative rounded-lg overflow-hidden shadow-xl aspect-[4/3]">
                         <img src="School.png" alt="Hillside School Campus" class="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700"/>
                         <div class="absolute inset-0 bg-royal-900/10 mix-blend-multiply"></div>
                    </div>
                    
                    <!-- Floating badge -->
                    <div class="absolute -bottom-4 -left-4 md:-bottom-6 md:-left-6 bg-white p-3 md:p-4 rounded-lg shadow-lg border-t-4 border-royal-800 hidden sm:block">
                        <div class="flex items-center space-x-3">
                            <div class="bg-royal-100 p-2 md:p-3 rounded-full text-royal-800">
                                <i data-lucide="award" class="w-5 h-5 md:w-6 md:h-6"></i>
                            </div>
                            <div>
                                <p class="text-[10px] md:text-xs text-gray-500 font-bold uppercase">Established</p>
                                <p class="text-lg md:text-xl font-serif font-bold text-slate-900">2049</p>
                            </div>
                        </div>
                    </div>
                </div>

                </div>
            </div>
        </section>

        <!-- PRINCIPAL MESSAGE SECTION -->
        <section class="py-12 md:py-20 bg-royal-50 border-t border-royal-100 scroll-mt-28">
            <div class="max-w-[1600px] mx-auto px-4 sm:px-8 lg:px-16">
                <div class="flex flex-col md:flex-row items-center gap-8 lg:gap-16">
                     <!-- Principal Image -->
                     <div class="w-full md:w-1/3 flex justify-center md:justify-end">
                        <div class="relative w-48 md:w-64">
                            <div class="absolute inset-0 bg-gold-500 rounded-full blur-3xl opacity-20"></div>
                            <img src="Principal.jpg" alt="Mr. Dili Ram Bhattarai" class="relative rounded-lg shadow-2xl w-full object-cover aspect-[3/4] border-4 border-white" />
                        </div>
                     </div>
                     
                     <!-- Principal Content -->
                     <div class="w-full md:w-2/3">
                        <div class="flex items-center space-x-2 mb-4 md:mb-6">
                             <i data-lucide="quote" class="text-gold-500 w-8 h-8 md:w-10 md:h-10 fill-current opacity-80"></i>
                             <h4 class="text-royal-800 font-bold uppercase tracking-widest text-xs md:text-sm ml-2">Message from the Principal</h4>
                        </div>
                        
                        <h2 class="text-2xl md:text-4xl font-serif font-bold text-slate-900 mb-4 md:mb-6">
                            Mr. Dili Ram Bhattarai
                        </h2>
                        
                        <div class="prose prose-lg text-gray-600 mb-6 md:mb-8">
                            <p class="italic text-gray-700 text-lg md:text-xl leading-relaxed mb-4 md:mb-6 font-serif border-l-4 border-gold-500 pl-4 md:pl-6">
                            "Education is the most powerful weapon which you can use to change the world. At Hillside English School, we strive not just for academic grades, but for character building."
                            </p>
                            <p class="leading-relaxed text-sm md:text-base">
                                We believe in fostering a community where every child feels valued, understood, and challenged to be their best self. Our journey over the last 25 years has been one of constant evolution, blending traditional values with modern educational practices.
                            </p>
                        </div>
                        
                        <div class="flex items-end">
                             <div class="text-royal-800 font-script text-xl md:text-2xl opacity-80" style="font-family: 'Brush Script MT', cursive;">Dili Ram Bhattarai</div>
                             <span class="ml-4 text-[10px] md:text-xs text-gray-400 uppercase tracking-widest mb-1">Principal</span>
                        </div>
                     </div>
                </div>
            </div>
        </section>

        <!-- ACADEMIC SECTION -->
        <section id="academics" class="py-12 md:py-20 bg-stone-50 scroll-mt-28">
            <div class="max-w-[1600px] mx-auto px-4 sm:px-8 lg:px-16">
                <div class="text-center max-w-3xl mx-auto mb-10 md:mb-16">
                <h2 class="text-royal-800 font-bold uppercase tracking-widest text-xs md:text-sm mb-2">Our Courses</h2>
                <h2 class="text-2xl md:text-4xl font-serif font-bold text-slate-900 mb-4 md:mb-6">
                    Academic Programs
                </h2>
                <p class="text-base md:text-lg text-gray-600 leading-relaxed">
                    From Montessori to Secondary level, we offer a complete educational pathway focusing on academic and practical skills.
                </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Program 1 -->
                <div class="bg-white p-6 rounded-sm shadow-sm hover:shadow-lg transition-all border-t-4 border-royal-800 cursor-pointer" onclick="showToast('View details: Pre-Primary Section')">
                    <div class="w-12 h-12 bg-royal-100 rounded-full flex items-center justify-center mb-4 text-royal-800">
                        <i data-lucide="users" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-2">Pre-Primary</h3>
                    <p class="text-sm text-gray-500 font-bold uppercase mb-3 tracking-wide">Playgroup - KG</p>
                    <p class="text-gray-600 text-sm mb-4 leading-relaxed">
                        A child-friendly Montessori environment fostering curiosity and social skills through play-based learning.
                    </p>
                </div>

                <!-- Program 2 -->
                <div class="bg-white p-6 rounded-sm shadow-sm hover:shadow-lg transition-all border-t-4 border-royal-800 cursor-pointer" onclick="showToast('View details: Basic Level (1-8)')">
                    <div class="w-12 h-12 bg-royal-100 rounded-full flex items-center justify-center mb-4 text-royal-800">
                        <i data-lucide="pencil" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-2">Basic Level</h3>
                    <p class="text-sm text-gray-500 font-bold uppercase mb-3 tracking-wide">Grades 1 - 8</p>
                    <p class="text-gray-600 text-sm mb-4 leading-relaxed">
                        Strong foundation in core subjects including Mathematics, Science, English, and Nepali with computer education.
                    </p>
                </div>

                <!-- Program 3 -->
                <div class="bg-white p-6 rounded-sm shadow-sm hover:shadow-lg transition-all border-t-4 border-royal-800 cursor-pointer" onclick="showToast('View details: Secondary Level (9-10)')">
                    <div class="w-12 h-12 bg-royal-100 rounded-full flex items-center justify-center mb-4 text-royal-800">
                        <i data-lucide="book" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-2">Secondary Level</h3>
                    <p class="text-sm text-gray-500 font-bold uppercase mb-3 tracking-wide">Grades 9 - 10 (SEE)</p>
                    <p class="text-gray-600 text-sm mb-4 leading-relaxed">
                        Focused preparation for the Secondary Education Examination (SEE) with extra coaching and lab works.
                    </p>
                </div>
                </div>
            </div>
        </section>

        <!-- EDUCATIONAL APPROACH / FACILITIES -->
        <section id="approach" class="py-12 md:py-24 bg-white border-t border-gray-100 scroll-mt-28">
            <div class="max-w-[1600px] mx-auto px-4 sm:px-8 lg:px-16">
                <div class="text-center max-w-3xl mx-auto mb-10 md:mb-16">
                <h2 class="text-royal-800 font-bold uppercase tracking-widest text-xs md:text-sm mb-3">Why Choose Us</h2>
                <h2 class="text-2xl md:text-4xl font-serif font-bold text-slate-900 mb-6">
                    Facilities & Features
                </h2>
                <div class="w-24 h-1 bg-gold-500 mx-auto mb-8"></div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                    <!-- Feature 1: Scholarship Facility -->
                    <div class="flex p-5 md:p-6 bg-stone-50 rounded-lg hover:shadow-md transition-shadow">
                        <div class="flex-shrink-0 mr-4 md:mr-6">
                            <div class="p-3 md:p-4 bg-white rounded-full shadow-sm text-royal-800">
                                <i data-lucide="award" class="w-6 h-6 md:w-8 md:h-8"></i>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-lg md:text-xl font-bold text-slate-900 mb-2">Scholarship Facility</h3>
                            <p class="text-gray-600 leading-relaxed text-sm">
                            We offer scholarships to deserving students, providing full scholarships to first place students, 50% discounts to second place students, and 25% discounts to third place students.
                            </p>
                        </div>
                    </div>

                    <!-- Feature 2: Transportation -->
                     <div class="flex p-5 md:p-6 bg-stone-50 rounded-lg hover:shadow-md transition-shadow">
                        <div class="flex-shrink-0 mr-4 md:mr-6">
                            <div class="p-3 md:p-4 bg-white rounded-full shadow-sm text-royal-800">
                                <i data-lucide="bus" class="w-6 h-6 md:w-8 md:h-8"></i>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-lg md:text-xl font-bold text-slate-900 mb-2">Transportation</h3>
                            <p class="text-gray-600 leading-relaxed text-sm">
                            We provide bus facilities for students to ensure safe and convenient travel to and from school, covering major routes across Pokhara.
                            </p>
                        </div>
                    </div>

                    <!-- Feature 3: Sports & Playgrounds -->
                     <div class="flex p-5 md:p-6 bg-stone-50 rounded-lg hover:shadow-md transition-shadow">
                        <div class="flex-shrink-0 mr-4 md:mr-6">
                            <div class="p-3 md:p-4 bg-white rounded-full shadow-sm text-royal-800">
                                <i data-lucide="trophy" class="w-6 h-6 md:w-8 md:h-8"></i>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-lg md:text-xl font-bold text-slate-900 mb-2">Sports & Playgrounds</h3>
                            <p class="text-gray-600 leading-relaxed text-sm">
                             Our school is equipped with various playgrounds, including football, basketball, table tennis, and volleyball, to support a wide range of sports activities.
                            </p>
                        </div>
                    </div>

                    <!-- Feature 4: ECA -->
                    <div class="flex p-5 md:p-6 bg-stone-50 rounded-lg hover:shadow-md transition-shadow">
                        <div class="flex-shrink-0 mr-4 md:mr-6">
                            <div class="p-3 md:p-4 bg-white rounded-full shadow-sm text-royal-800">
                                <i data-lucide="music" class="w-6 h-6 md:w-8 md:h-8"></i>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-lg md:text-xl font-bold text-slate-900 mb-2">Extra-Curricular Activities</h3>
                            <p class="text-gray-600 leading-relaxed text-sm">
                            We focus on holistic development by offering a variety of extra-curricular activities. Our courses include dance, music, art, and computer classes.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- NOTICE BOARD -->
        <section id="notices" class="py-12 md:py-24 bg-stone-50 relative overflow-hidden scroll-mt-28">
            <!-- Decorative background element -->
            <div class="absolute top-0 left-0 w-64 h-64 bg-royal-100/50 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
            
            <div class="max-w-[1400px] mx-auto px-4 sm:px-8 lg:px-16 relative z-10">
                <div class="flex flex-col md:flex-row justify-between items-end mb-8 md:mb-12 gap-6">
                    <div class="max-w-2xl">
                        <h4 class="text-royal-800 font-bold uppercase tracking-widest text-xs md:text-sm mb-2">Stay Informed</h4>
                        <h2 class="text-2xl md:text-4xl font-serif font-bold text-slate-900 mb-4">Notice Board</h2>
                        <p class="text-sm md:text-base text-gray-600">
                            Latest announcements, circulars, and academic schedules from the administration desk.
                        </p>
                    </div>
                    <button onclick="openArchiveModal(); return false;" class="hidden md:flex items-center text-royal-800 font-bold hover:text-gold-600 transition-colors">
                        View All Notices <i data-lucide="arrow-right" class="ml-2 w-5 h-5"></i>
                    </button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Pinned/Featured Notice -->
                    <div class="lg:col-span-1 bg-royal-800 rounded-xl p-6 md:p-8 text-white relative overflow-hidden shadow-xl flex flex-col justify-between group">
                        <!-- Abstract pattern -->
                        <div class="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-bl-full transition-transform group-hover:scale-110"></div>
                        
                        <div class="mb-6 md:mb-0">
                            <div class="inline-block bg-gold-500 text-white text-[10px] md:text-xs font-bold px-3 py-1 rounded-full mb-6 uppercase tracking-wider">
                                Important
                            </div>
                            <div class="mb-2 text-royal-200 text-xs md:text-sm font-medium">Februray 10, 2026</div>
                            <h3 class="text-xl md:text-2xl font-bold font-serif leading-tight mb-4">
                                Final Mid-Terminal Examination Routine 2082
                            </h3>
                            <p class="text-royal-100 text-xs md:text-sm leading-relaxed mb-6">
                                The examination schedule for Grade 1 to 10 has been published. Please ensure all dues are cleared before collecting admit cards.
                            </p>
                        </div>
                        <button onclick="downloadRoutine()" class="w-full bg-white text-royal-900 py-3 rounded-sm font-bold hover:bg-gold-50 transition-colors flex items-center justify-center text-sm md:text-base">
                            <i data-lucide="download" class="w-4 h-4 mr-2"></i> Download Routine
                        </button>
                    </div>

                    <!-- List Notices -->
                    <div class="lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                        <div class="divide-y divide-gray-100">
                            <!-- Item 1 -->
                            <div class="p-4 md:p-6 hover:bg-slate-50 transition-all flex gap-4 md:gap-6 items-start group">
                                <div class="hidden sm:flex flex-col items-center justify-center w-16 h-16 bg-slate-100 rounded-lg text-slate-600 flex-shrink-0 group-hover:bg-royal-100 group-hover:text-royal-800 transition-colors">
                                    <span class="text-xs font-bold uppercase">Oct</span>
                                    <span class="text-xl font-bold">22</span>
                                </div>
                                <div class="flex-grow">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-[10px] font-bold uppercase px-2 py-0.5 rounded border bg-blue-50 text-blue-700 border-blue-200">Admissions</span>
                                        <span class="sm:hidden text-xs text-gray-400">Oct 22</span>
                                    </div>
                                    <h3 class="text-base md:text-lg font-bold text-slate-800 mb-1 group-hover:text-royal-800 transition-colors">Admission Open for Playgroup to Grade 9</h3>
                                    <p class="text-xs md:text-sm text-gray-500 line-clamp-2">New session admissions are now open. Visit the administration office for forms and details.</p>
                                </div>
                                <button onclick="openNoticeDetails()" class="text-gray-400 group-hover:text-royal-800 transition-colors self-center p-2">
                                    <i data-lucide="chevron-right" class="w-5 h-5 md:w-6 md:h-6"></i>
                                </button>
                            </div>
                            
                            <!-- Item 2 -->
                            <div class="p-4 md:p-6 hover:bg-slate-50 transition-all flex gap-4 md:gap-6 items-start group">
                                <div class="hidden sm:flex flex-col items-center justify-center w-16 h-16 bg-slate-100 rounded-lg text-slate-600 flex-shrink-0 group-hover:bg-royal-100 group-hover:text-royal-800 transition-colors">
                                    <span class="text-xs font-bold uppercase">Oct</span>
                                    <span class="text-xl font-bold">20</span>
                                </div>
                                <div class="flex-grow">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-[10px] font-bold uppercase px-2 py-0.5 rounded border bg-green-50 text-green-700 border-green-200">Holiday</span>
                                        <span class="sm:hidden text-xs text-gray-400">Oct 20</span>
                                    </div>
                                    <h3 class="text-base md:text-lg font-bold text-slate-800 mb-1 group-hover:text-royal-800 transition-colors">Notice regarding Winter Vacation</h3>
                                    <p class="text-xs md:text-sm text-gray-500 line-clamp-2">School will remain closed from Poush 15 to Magh 15 for winter vacation.</p>
                                </div>
                                <button onclick="openNoticeDetails()" class="text-gray-400 group-hover:text-royal-800 transition-colors self-center p-2">
                                    <i data-lucide="chevron-right" class="w-5 h-5 md:w-6 md:h-6"></i>
                                </button>
                            </div>

                             <!-- Item 3 -->
                            <div class="p-4 md:p-6 hover:bg-slate-50 transition-all flex gap-4 md:gap-6 items-start group">
                                <div class="hidden sm:flex flex-col items-center justify-center w-16 h-16 bg-slate-100 rounded-lg text-slate-600 flex-shrink-0 group-hover:bg-royal-100 group-hover:text-royal-800 transition-colors">
                                    <span class="text-xs font-bold uppercase">Oct</span>
                                    <span class="text-xl font-bold">15</span>
                                </div>
                                <div class="flex-grow">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-[10px] font-bold uppercase px-2 py-0.5 rounded border bg-orange-50 text-orange-700 border-orange-200">Event</span>
                                        <span class="sm:hidden text-xs text-gray-400">Oct 15</span>
                                    </div>
                                    <h3 class="text-base md:text-lg font-bold text-slate-800 mb-1 group-hover:text-royal-800 transition-colors">Annual Sports Week Closing Ceremony</h3>
                                    <p class="text-xs md:text-sm text-gray-500 line-clamp-2">Parents are invited to the closing ceremony of our annual sports week.</p>
                                </div>
                                <button onclick="openNoticeDetails()" class="text-gray-400 group-hover:text-royal-800 transition-colors self-center p-2">
                                    <i data-lucide="chevron-right" class="w-5 h-5 md:w-6 md:h-6"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                     <div class="md:hidden text-center mt-6">
                        <button onclick="openArchiveModal(); return false;" class="inline-flex items-center text-royal-800 font-bold hover:text-gold-600 transition-colors">
                            View All Notices <i data-lucide="arrow-right" class="ml-2 w-5 h-5"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- TESTIMONIALS -->
        <section class="py-12 md:py-24 bg-slate-50 border-t border-gray-200 scroll-mt-28">
            <div class="max-w-[1600px] mx-auto px-4 sm:px-8 lg:px-16">
                <div class="text-center mb-10 md:mb-16">
                <h2 class="text-royal-800 font-bold uppercase tracking-widest text-xs md:text-sm mb-3">Student Voices</h2>
                <h2 class="text-2xl md:text-4xl font-serif font-bold text-slate-900 mb-6">
                    What Our Students Say
                </h2>
                <div class="w-24 h-1 bg-gold-500 mx-auto"></div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
                    <!-- Student 1 -->
                    <div class="bg-white p-6 md:p-8 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-t-4 border-gold-500 relative overflow-hidden group">
                        <i data-lucide="quote" class="absolute top-2 right-4 text-gray-100 w-24 h-24 opacity-50 transform rotate-12 -z-0 group-hover:scale-110 transition-transform duration-500"></i>
                        <div class="relative z-10">
                            <div class="flex text-gold-500 mb-4 md:mb-6">
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                            </div>
                            <p class="text-gray-700 mb-6 md:mb-8 font-serif text-base md:text-lg leading-relaxed">
                                The science laboratories at Hillside are exceptional. The practical approach to learning physics and chemistry has really helped me prepare for my SEE exams.
                            </p>
                            <div class="flex items-center pt-4 md:pt-6 border-t border-gray-50 mt-auto">
                                <img src="https://picsum.photos/100/100?random=student1" alt="Aarav Shrestha" class="w-12 h-12 md:w-14 md:h-14 rounded-full object-cover border-2 border-white shadow-md mr-4"/>
                                <div>
                                <h4 class="font-bold text-royal-900 text-sm md:text-base">Aarav Shrestha</h4>
                                <p class="text-[10px] md:text-xs text-royal-600 font-bold uppercase tracking-wider">Grade 10</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Student 2 -->
                    <div class="bg-white p-6 md:p-8 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-t-4 border-gold-500 relative overflow-hidden group">
                        <i data-lucide="quote" class="absolute top-2 right-4 text-gray-100 w-24 h-24 opacity-50 transform rotate-12 -z-0 group-hover:scale-110 transition-transform duration-500"></i>
                        <div class="relative z-10">
                            <div class="flex text-gold-500 mb-4 md:mb-6">
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                            </div>
                            <p class="text-gray-700 mb-6 md:mb-8 font-serif text-base md:text-lg leading-relaxed">
                                Teachers here don't just teach from books; they mentor us. The extra coaching classes for SEE preparation gave me the confidence to aim for a GPA of 4.0.
                            </p>
                            <div class="flex items-center pt-4 md:pt-6 border-t border-gray-50 mt-auto">
                                <img src="https://picsum.photos/100/100?random=student2" alt="Priya Sharma" class="w-12 h-12 md:w-14 md:h-14 rounded-full object-cover border-2 border-white shadow-md mr-4"/>
                                <div>
                                <h4 class="font-bold text-royal-900 text-sm md:text-base">Priya Sharma</h4>
                                <p class="text-[10px] md:text-xs text-royal-600 font-bold uppercase tracking-wider">Grade 10 (SEE Batch)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Student 3 -->
                    <div class="bg-white p-6 md:p-8 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-t-4 border-gold-500 relative overflow-hidden group">
                        <i data-lucide="quote" class="absolute top-2 right-4 text-gray-100 w-24 h-24 opacity-50 transform rotate-12 -z-0 group-hover:scale-110 transition-transform duration-500"></i>
                        <div class="relative z-10">
                            <div class="flex text-gold-500 mb-4 md:mb-6">
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                                <i data-lucide="star" class="w-[16px] h-[16px] md:w-[18px] md:h-[18px] mr-1 fill-current"></i>
                            </div>
                            <p class="text-gray-700 mb-6 md:mb-8 font-serif text-base md:text-lg leading-relaxed">
                                I joined for the academics, but I stayed for the community. The balance between studies and sports like football and basketball is perfect at Hillside.
                            </p>
                            <div class="flex items-center pt-4 md:pt-6 border-t border-gray-50 mt-auto">
                                <img src="https://picsum.photos/100/100?random=student3" alt="Rohan Gurung" class="w-12 h-12 md:w-14 md:h-14 rounded-full object-cover border-2 border-white shadow-md mr-4"/>
                                <div>
                                <h4 class="font-bold text-royal-900 text-sm md:text-base">Rohan Gurung</h4>
                                <p class="text-[10px] md:text-xs text-royal-600 font-bold uppercase tracking-wider">Grade 9</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA -->
        <section id="apply" class="py-12 md:py-24 px-4 bg-stone-50 scroll-mt-28">
          <div class="max-w-[1600px] mx-auto relative">
            <div class="relative bg-royal-900 rounded-2xl md:rounded-[2rem] overflow-hidden shadow-2xl min-h-[400px] md:min-h-[500px] flex items-center">
              <!-- Background Pattern -->
              <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(#C4961A 1px, transparent 1px); background-size: 30px 30px;"></div>

              <!-- Content Grid -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-0 w-full h-full relative z-10">
                
                <!-- Text Column -->
                <div class="p-6 md:p-12 lg:p-20 flex flex-col justify-center text-center lg:text-left">
                   <!-- Badge -->
                   <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur border border-white/20 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-gold-400 text-[10px] md:text-xs font-bold uppercase tracking-wider mb-6 md:mb-8 mx-auto lg:mx-0 w-fit">
                      <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse-slow"></span>
                      Admissions Open 2025
                   </div>
                   
                   <h2 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-serif font-bold text-white mb-4 md:mb-6 leading-tight">
                      Unlock Your Child's <br class="hidden md:block"/>
                      <span class="text-transparent bg-clip-text bg-gradient-to-r from-gold-400 to-gold-600">Full Potential</span>
                   </h2>
                   
                   <p class="text-blue-100 text-sm md:text-lg mb-8 md:mb-10 leading-relaxed max-w-lg mx-auto lg:mx-0">
                      Join a legacy of excellence. We are currently accepting applications for the upcoming academic session. Secure a spot today.
                   </p>
                   
                   <div class="flex flex-col sm:flex-row gap-3 md:gap-4 justify-center lg:justify-start">
                      <button onclick="openApplyModal()" class="bg-gold-500 text-white hover:bg-gold-600 px-6 md:px-8 py-3 md:py-4 rounded-lg font-bold transition-all shadow-lg hover:shadow-gold-500/30 flex items-center justify-center group text-base md:text-lg">
                          Apply Now
                          <i data-lucide="arrow-right" class="ml-2 w-4 h-4 md:w-5 md:h-5 group-hover:translate-x-1 transition-transform"></i>
                      </button>
                      <button onclick="openVisitModal()" class="bg-transparent border-2 border-white/20 text-white hover:bg-white/10 px-6 md:px-8 py-3 md:py-4 rounded-lg font-bold transition-all flex items-center justify-center text-base md:text-lg">
                          Schedule Visit
                      </button>
                   </div>
                </div>

                <!-- Image Column with Fancy Clip -->
                <div class="relative h-64 md:h-full min-h-[300px] lg:min-h-full overflow-hidden order-first lg:order-last">
                   <div class="absolute inset-0 bg-gradient-to-b lg:bg-gradient-to-r from-royal-900 via-transparent to-transparent z-10 lg:w-1/3"></div>
                   <img 
                      src="Admission.jpg" 
                      alt="Student smiling" 
                      class="absolute inset-0 w-full h-full object-cover object-center transition-transform duration-700 hover:scale-105"
                   />
                   <!-- Floating Stats Card on Image -->
                   <div class="absolute bottom-4 right-4 md:bottom-8 md:right-8 bg-white/95 backdrop-blur shadow-xl p-4 md:p-6 rounded-xl z-20 hidden sm:block max-w-xs animate-fade-in-down border-l-4 border-gold-500">
                       <div class="flex items-center gap-3 md:gap-4">
                          <div class="bg-royal-100 p-2 md:p-3 rounded-full text-royal-800">
                              <i data-lucide="check-circle" class="w-5 h-5 md:w-6 md:h-6"></i>
                          </div>
                          <div>
                              <p class="text-[10px] md:text-xs text-gray-500 font-bold uppercase">Enrollment</p>
                              <p class="text-royal-900 font-bold text-base md:text-lg">Limited Seats Available</p>
                          </div>
                       </div>
                   </div>
                </div>

              </div>
            </div>
          </div>
        </section>
    </main>

    <!-- FOOTER -->
    <footer id="contact" class="bg-slate-900 text-white pt-16 pb-8 md:pb-10 border-t-4 border-royal-800 scroll-mt-28 relative overflow-hidden">
        <!-- Background flourish -->
        <div class="absolute top-0 right-0 p-12 opacity-10 pointer-events-none">
             <div class="w-96 h-96 rounded-full bg-royal-800 blur-[100px]"></div>
        </div>
        
        <div class="max-w-[1600px] mx-auto px-4 sm:px-8 lg:px-16 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 lg:gap-12 mb-12">
            <!-- Brand Column -->
            <div class="flex flex-col h-full">
                <div class="flex items-center space-x-3 mb-6">
                    <!-- FOOTER LOGO -->
                    <img 
                      src="SchoolLogo.png" 
                      alt="Hillside School Logo" 
                      class="w-12 h-12 md:w-14 md:h-14 rounded-full object-contain bg-white shadow-lg"
                    />
                    <div>
                        <h3 class="text-xl md:text-2xl font-serif font-bold tracking-tight leading-none">Hillside</h3>
                        <p class="text-xs text-slate-400 font-bold tracking-widest uppercase">English School</p>
                    </div>
                </div>
                <p class="text-slate-300 text-sm leading-relaxed mb-6 border-l-2 border-gold-500 pl-3">
                Malepatan-12, Pokhara<br />
                Kaski, Nepal
                </p>
                <div class="flex flex-col space-y-3 text-sm text-slate-300 mb-6">
                    <div class="flex items-center group cursor-pointer hover:text-white transition-colors">
                        <div class="bg-slate-800 p-2 rounded-full mr-3 group-hover:bg-royal-800 transition-colors">
                            <i data-lucide="phone" class="text-gold-500 w-4 h-4"></i> 
                        </div>
                        <span class="font-medium">985-6031780</span>
                    </div>
                    <div class="flex items-center group cursor-pointer hover:text-white transition-colors">
                        <div class="bg-slate-800 p-2 rounded-full mr-3 group-hover:bg-royal-800 transition-colors">
                            <i data-lucide="mail" class="text-gold-500 w-4 h-4"></i> 
                        </div>
                        <span class="font-medium">hillsideengschool@gmail.com</span>
                    </div>
                </div>

                <!-- Social Icons Moved Here -->
                <div class="flex space-x-4 mb-8">
                    <a href="#" onclick="showToast('Opening Facebook page...', 'info'); return false;" class="bg-slate-800 p-2 rounded-full text-slate-400 hover:text-white hover:bg-royal-800 transition-all hover:-translate-y-1"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                    <a href="#" onclick="showToast('Opening TikTok page...', 'info'); return false;" class="bg-slate-800 p-2 rounded-full text-slate-400 hover:text-white hover:bg-royal-800 transition-all hover:-translate-y-1"><i data-lucide="tiktok" class="w-5 h-5"></i></a>
                    <a href="#" onclick="showToast('Opening Instagram page...', 'info'); return false;" class="bg-slate-800 p-2 rounded-full text-slate-400 hover:text-white hover:bg-royal-800 transition-all hover:-translate-y-1"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                </div>
                
                <div class="mt-auto">
                     <p class="text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-3">Get our Mobile App</p>
                     <a href="https://play.google.com/store/apps/details?id=dynamic.school.re.hilSidEng&pli=1" target="_blank" class="inline-block hover:scale-105 transition-transform">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg" alt="Get it on Google Play" class="h-10">
                     </a>
                </div>
            </div>
    
            <!-- Links Column 2 (Community) -->
            <div>
                <h4 class="text-white font-bold uppercase tracking-wider text-sm mb-6 flex items-center">
                    <span class="w-8 h-1 bg-gold-500 mr-3"></span> Community
                </h4>
                <ul class="space-y-4 text-sm text-slate-300">
                    <li><button onclick="showToast('Parents Portal is under maintenance', 'warning')" class="flex items-center hover:text-gold-400 transition-all hover:translate-x-1"><i data-lucide="chevron-right" class="w-3 h-3 mr-2 opacity-50"></i>Parents Info</button></li>
                    <li><button onclick="showToast('Alumni Network coming soon!', 'info')" class="flex items-center hover:text-gold-400 transition-all hover:translate-x-1"><i data-lucide="chevron-right" class="w-3 h-3 mr-2 opacity-50"></i>Alumni</button></li>
                    <li><button onclick="showToast('Downloading Academic Calendar...')" class="flex items-center hover:text-gold-400 transition-all hover:translate-x-1"><i data-lucide="chevron-right" class="w-3 h-3 mr-2 opacity-50"></i>School Calendar</button></li>
                    <li><button onclick="scrollToSection('approach')" class="flex items-center hover:text-gold-400 transition-all hover:translate-x-1"><i data-lucide="chevron-right" class="w-3 h-3 mr-2 opacity-50"></i>ECA Activities</button></li>
                    <li><button onclick="showToast('No vacancies currently available', 'info')" class="flex items-center hover:text-gold-400 transition-all hover:translate-x-1"><i data-lucide="chevron-right" class="w-3 h-3 mr-2 opacity-50"></i>Careers</button></li>
                </ul>
            </div>
    
            <!-- Global Column (Admissions) -->
            <div class="flex flex-col h-full">
                <h4 class="text-white font-bold uppercase tracking-wider text-sm mb-6 flex items-center">
                    <span class="w-8 h-1 bg-gold-500 mr-3"></span> Admissions
                </h4>
                <p class="text-slate-400 text-sm mb-6 leading-relaxed">
                Discover what makes a Hillside education unique. Schedule a visit or apply today.
                </p>
                
                <div class="bg-slate-800/50 p-4 rounded-lg border border-slate-700 mb-6">
                    <h5 class="text-xs font-bold text-gold-500 uppercase tracking-widest mb-2">Office Hours</h5>
                    <ul class="text-xs text-slate-300 space-y-1">
                        <li class="flex justify-between"><span>Sunday - Friday:</span> <span class="font-bold text-white">9:00 AM - 4:00 PM</span></li>
                        <li class="flex justify-between"><span>Saturday:</span> <span class="text-slate-500">Closed</span></li>
                    </ul>
                </div>

                <button onclick="openApplyModal()" class="w-full flex justify-center items-center text-sm font-bold text-white bg-royal-800 border border-royal-700 px-4 py-3 rounded-sm hover:bg-gold-600 hover:border-gold-600 hover:text-white transition-all shadow-md group">
                <i data-lucide="globe" class="mr-2 w-4 h-4 group-hover:animate-pulse"></i>
                Apply Online
                </button>
            </div>

            <!-- Map Column -->
            <div class="flex flex-col h-full">
                <h4 class="text-white font-bold uppercase tracking-wider text-sm mb-6 flex items-center">
                    <span class="w-8 h-1 bg-gold-500 mr-3"></span> Location
                </h4>
                <div class="w-full aspect-square bg-slate-800 rounded-lg overflow-hidden border border-slate-600 shadow-xl group relative">
                     <iframe 
                        width="100%" 
                        height="100%" 
                        frameborder="0" 
                        scrolling="no" 
                        marginheight="0" 
                        marginwidth="0" 
                        src="https://maps.google.com/maps?q=Hillside%20English%20School,%20Malepatan,%20Pokhara&t=&z=15&ie=UTF8&iwloc=&output=embed"
                        class="w-full h-full"
                        title="Hillside School Location Map"
                     ></iframe>
                     <!-- Overlay hint -->
                     <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors pointer-events-none"></div>
                </div>
            </div>
            </div>
    
            <div class="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-slate-500">
                <p>&copy; 2025 Hillside English School | Developed by Sudip Shrestha</p>
                <div class="flex space-x-6 mt-4 md:mt-0">
                    <button onclick="showToast('Privacy Policy')" class="hover:text-gold-500 transition-colors">Privacy Policy</button>
                    <button onclick="showToast('Downloading Handbook...')" class="hover:text-gold-500 transition-colors">Student Handbook</button>
                    <button onclick="scrollToSection('contact')" class="hover:text-gold-500 transition-colors">Contact Us</button>
                </div>
            </div>
        </div>
    </footer>

    <!-- ASSISTANT FAB -->
    <button
        id="assistant-toggle"
        class="fixed bottom-6 right-6 z-40 bg-royal-800 text-white p-4 rounded-full shadow-lg hover:bg-royal-900 hover:shadow-xl transition-all duration-300 group scale-100 opacity-100"
        aria-label="Open Assistant"
    >
        <i data-lucide="message-square" class="w-6 h-6"></i>
        <span class="absolute right-full mr-3 top-1/2 -translate-y-1/2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 whitespace-nowrap transition-opacity pointer-events-none">
          Ask Hillside AI
        </span>
    </button>

    <!-- ASSISTANT CHAT WINDOW -->
    <div 
        id="assistant-window"
        class="fixed z-50 transition-all duration-500 ease-in-out bg-white shadow-2xl rounded-lg overflow-hidden flex flex-col border border-gray-200 bottom-6 right-6 opacity-0 translate-y-10 pointer-events-none w-0 h-0 md:w-[400px] md:h-[600px]"
    >
        <!-- Chat Header -->
        <div class="bg-royal-800 p-4 flex justify-between items-center text-white shrink-0">
          <div class="flex items-center space-x-2">
            <i data-lucide="sparkles" class="text-gold-500 w-[18px] h-[18px]"></i>
            <div>
              <h3 class="font-serif font-bold text-sm tracking-wide">HILLSIDE <span class="text-gold-500">AI</span></h3>
              <span class="text-xs text-blue-100 opacity-80 block">Virtual Campus Assistant</span>
            </div>
          </div>
          <button id="chat-minimize" class="text-white/80 hover:text-white transition-colors p-1" aria-label="Minimize Chat">
            <i data-lucide="minimize-2" class="w-[18px] h-[18px]"></i>
          </button>
        </div>

        <!-- Messages Area -->
        <div id="chat-messages" class="flex-1 overflow-y-auto p-4 bg-stone-50 space-y-4">
            <!-- Initial Welcome Message -->
            <div class="flex justify-start">
                <div class="max-w-[85%] rounded-2xl p-3 text-sm leading-relaxed shadow-sm bg-white text-gray-800 border border-gray-100 rounded-bl-none">
                    Welcome to Hillside English School. I am your Virtual Assistant. How may I help you today?
                    <div class="text-[10px] mt-1 opacity-50 text-left" id="initial-time"></div>
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="p-3 bg-white border-t border-gray-100 shrink-0">
          <div class="relative">
            <input
              id="chat-input"
              type="text"
              placeholder="Ask about admissions, fees..."
              class="w-full pl-4 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-royal-800/20 focus:border-royal-800 transition-all text-sm"
            />
            <button
              id="chat-send"
              disabled
              class="absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-royal-800 text-white rounded-full hover:bg-royal-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
            >
              <i data-lucide="send" id="send-icon" class="w-4 h-4"></i>
              <i data-lucide="loader-2" id="loading-icon" class="w-4 h-4 animate-spin hidden"></i>
            </button>
          </div>
          <div class="text-center mt-2">
            <span class="text-[10px] text-gray-400">AI can make mistakes. Check important info.</span>
          </div>
        </div>
    </div>
    
    <!-- GENERIC MODAL -->
    <div id="generic-modal" class="fixed inset-0 z-[60] hidden flex items-center justify-center">
        <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" onclick="closeModal()"></div>
        <div class="relative bg-white rounded-lg shadow-2xl p-6 w-[90%] max-w-md animate-fade-in-down">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-xl font-serif font-bold text-royal-800">Title</h3>
                <button onclick="closeModal()" class="text-gray-500 hover:text-red-500"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <div id="modal-content" class="text-gray-600 mb-6 max-h-[60vh] overflow-y-auto">Content</div>
            <div class="flex justify-end">
                <button onclick="closeModal()" class="bg-gray-200 text-gray-800 px-4 py-2 rounded-sm font-bold hover:bg-gray-300 transition-colors">Close</button>
            </div>
        </div>
    </div>

    <!-- TOAST CONTAINER -->
    <div id="toast-container" class="fixed bottom-6 left-6 z-[70] flex flex-col gap-2 pointer-events-none"></div>

    <!-- UI LOGIC SCRIPT -->
    <script>
        function scrollToSection(id) {
            const el = document.getElementById(id);
            if(el) {
                 // Close mobile menu if open
                const mobileMenu = document.getElementById('mobile-menu');
                const menuIcon = document.getElementById('menu-icon');
                const closeIcon = document.getElementById('close-icon');
                if (!mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                    menuIcon.classList.remove('hidden');
                    closeIcon.classList.add('hidden');
                }
                
                el.scrollIntoView({behavior: 'smooth'});
            }
        }
        
        function scrollToTop() {
             const mobileMenu = document.getElementById('mobile-menu');
             const menuIcon = document.getElementById('menu-icon');
             const closeIcon = document.getElementById('close-icon');
             
             if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                menuIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
             }
             window.scrollTo({top: 0, behavior: 'smooth'});
        }

        // --- TOAST SYSTEM ---
        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            
            // Icon selection
            let icon = '';
            let colorClass = 'border-l-4 border-royal-800 bg-white text-gray-800';
            
            if (type === 'success') {
                icon = '<i data-lucide="check-circle" class="w-5 h-5 text-green-500 mr-3"></i>';
                colorClass = 'border-l-4 border-green-500 bg-white text-gray-800';
            } else if (type === 'error') {
                icon = '<i data-lucide="alert-circle" class="w-5 h-5 text-red-500 mr-3"></i>';
                colorClass = 'border-l-4 border-red-500 bg-white text-gray-800';
            } else if (type === 'info') {
                icon = '<i data-lucide="info" class="w-5 h-5 text-blue-500 mr-3"></i>';
                colorClass = 'border-l-4 border-blue-500 bg-white text-gray-800';
            } else if (type === 'warning') {
                icon = '<i data-lucide="alert-triangle" class="w-5 h-5 text-gold-500 mr-3"></i>';
                colorClass = 'border-l-4 border-gold-500 bg-white text-gray-800';
            }

            toast.className = `toast flex items-center p-4 rounded shadow-lg min-w-[300px] animate-toast-in ${colorClass}`;
            toast.innerHTML = `${icon}<span class="font-medium text-sm">${message}</span>`;
            
            container.appendChild(toast);
            
            // Re-render icons for the new element
            lucide.createIcons();

            // Remove after delay
            setTimeout(() => {
                toast.classList.remove('animate-toast-in');
                toast.classList.add('animate-toast-out');
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 3000);
        }

        // --- MODAL SYSTEM ---
        function openModal(title, content) {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-content').innerHTML = content;
            document.getElementById('generic-modal').classList.remove('hidden');
            // Re-scan for new icons
            lucide.createIcons();
            // Prevent background scrolling
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('generic-modal').classList.add('hidden');
            // Restore background scrolling
            document.body.style.overflow = '';
        }

        window.handleLoadMore = function(btn) {
            const originalText = btn.innerText;
            btn.innerText = 'Loading...';
            
            setTimeout(() => {
                btn.innerText = 'No more notices to load';
                btn.disabled = true;
                btn.classList.remove('text-royal-800', 'hover:underline');
                btn.classList.add('text-gray-400', 'cursor-not-allowed');
            }, 1000);
        }

        function openSearch() {
            openModal('Search Website', `
                <div class="relative">
                    <input type="text" id="search-input" placeholder="Search for pages, notices..." class="w-full p-3 pl-10 border border-gray-300 rounded mb-4 focus:border-royal-800 focus:outline-none">
                    <i data-lucide="search" class="absolute left-3 top-3.5 w-5 h-5 text-gray-400"></i>
                </div>
                <div class="text-sm text-gray-500">
                    <p class="font-bold mb-2">Popular Searches:</p>
                    <div class="flex flex-wrap gap-2">
                        <button onclick="closeModal(); scrollToSection('apply')" class="bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-xs">Admissions</button>
                        <button onclick="closeModal(); scrollToSection('academics')" class="bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-xs">Result</button>
                        <button onclick="closeModal(); scrollToSection('contact')" class="bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-xs">Contact</button>
                    </div>
                </div>
                <button onclick="showToast('Searching...', 'info'); setTimeout(closeModal, 1000)" class="mt-4 w-full bg-royal-800 text-white py-2 rounded font-bold">Search</button>
            `);
            setTimeout(() => document.getElementById('search-input').focus(), 100);
        }

        function openApplyModal() {
            const redirectUrl = window.location.href;
            openModal('Apply Online', `
                <p class="mb-4 text-sm text-gray-600">Admissions for the upcoming session are open. Please fill out the form below to express your interest.</p>
                <!-- CHANGE EMAIL HERE: Change the email in the action URL below -->
                <form action="https://formsubmit.co/sudeepstha1718@gmail.com" method="POST" class="space-y-4">
                    <input type="hidden" name="_subject" value="New Admission Inquiry">
                    <input type="hidden" name="_next" value="${redirectUrl}">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_template" value="table">
                    
                    <input type="text" name="student_name" placeholder="Student Name" required class="w-full p-2 border border-gray-300 rounded focus:border-royal-800 outline-none">
                    <div class="grid grid-cols-2 gap-4">
                        <input type="text" name="grade" placeholder="Grade Applying For" required class="w-full p-2 border border-gray-300 rounded focus:border-royal-800 outline-none">
                        <input type="tel" name="contact_number" placeholder="Parent Contact No" required class="w-full p-2 border border-gray-300 rounded focus:border-royal-800 outline-none">
                    </div>
                    <input type="email" name="email" placeholder="Parent Email (Optional)" class="w-full p-2 border border-gray-300 rounded focus:border-royal-800 outline-none">
                    <button type="submit" class="w-full bg-royal-800 text-white p-3 rounded font-bold hover:bg-royal-900 transition-colors flex justify-center items-center">
                        Submit Application
                    </button>
                </form>
            `);
        }

        function openVisitModal() {
            const redirectUrl = window.location.href;
            openModal('Book a School Visit', `
                <p class="mb-4 text-sm text-gray-600">We would love to show you around! Please choose a preferred date and time.</p>
                <!-- CHANGE EMAIL HERE: Change the email in the action URL below -->
                <form action="https://formsubmit.co/sudeepstha1718@gmail.com" method="POST" class="space-y-4">
                    <input type="hidden" name="_subject" value="New School Visit Request">
                    <input type="hidden" name="_next" value="${redirectUrl}">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_template" value="table">
                    
                    <input type="date" name="visit_date" required class="w-full p-2 border border-gray-300 rounded focus:border-royal-800 outline-none">
                    <select name="preferred_time" class="w-full p-2 border border-gray-300 rounded focus:border-royal-800 outline-none">
                        <option>Morning (10:00 AM - 12:00 PM)</option>
                        <option>Afternoon (1:00 PM - 3:00 PM)</option>
                    </select>
                    <input type="text" name="visitor_name" placeholder="Your Name" required class="w-full p-2 border border-gray-300 rounded focus:border-royal-800 outline-none">
                    <input type="tel" name="phone_number" placeholder="Phone Number" required class="w-full p-2 border border-gray-300 rounded focus:border-royal-800 outline-none">
                    <button type="submit" class="w-full bg-royal-800 text-white p-3 rounded font-bold hover:bg-royal-900 transition-colors flex justify-center items-center">
                        Request Visit
                    </button>
                </form>
            `);
        }

        function downloadRoutine() {
            showToast('Downloading Exam Routine...', 'info');
            setTimeout(() => {
                const link = document.createElement('a');
                link.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent('Hillside English School - Exam Routine 2080\n\nGrade 10:\nSunday: Math\nMonday: Science\n...');
                link.download = 'Exam_Routine_2080.txt'; // Using txt for demo, normally pdf
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                showToast('Download Complete!', 'success');
            }, 1000);
        }

        function openNoticeDetails() {
            openModal('Notice Details', `
                <div class="space-y-4">
                    <div class="flex items-center gap-2 text-sm text-gray-500">
                        <i data-lucide="calendar" class="w-4 h-4"></i> Posted on Oct 25, 2023
                    </div>
                    <h4 class="font-bold text-lg text-slate-800">Regarding School Closing Ceremony</h4>
                    <p class="text-gray-600 leading-relaxed">
                        This is to inform all students and parents that the annual sports week closing ceremony will be held on the coming Friday. Attendance is mandatory for all students.
                        <br><br>
                        Parents are cordially invited to witness the prize distribution ceremony starting at 1:00 PM in the school auditorium.
                    </p>
                    <div class="bg-gray-50 p-3 rounded border border-gray-200 text-sm">
                        <strong>Note:</strong> Regular classes will resume from Sunday.
                    </div>
                </div>
            `);
        }

        function openArchiveModal() {
            openModal('Notices Archive', `
                <div class="space-y-2">
                    <button class="w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 group transition-colors" onclick="showToast('Opening Notice...')">
                        <div class="text-xs text-gray-400 group-hover:text-royal-600">Sep 12, 2023</div>
                        <div class="font-bold text-sm text-slate-700 group-hover:text-royal-800">First Terminal Exam Result</div>
                    </button>
                    <button class="w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 group transition-colors" onclick="showToast('Opening Notice...')">
                        <div class="text-xs text-gray-400 group-hover:text-royal-600">Aug 05, 2023</div>
                        <div class="font-bold text-sm text-slate-700 group-hover:text-royal-800">Teej Celebration Program</div>
                    </button>
                    <button class="w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 group transition-colors" onclick="showToast('Opening Notice...')">
                        <div class="text-xs text-gray-400 group-hover:text-royal-600">Jul 20, 2023</div>
                        <div class="font-bold text-sm text-slate-700 group-hover:text-royal-800">Class 11 Orientation Schedule</div>
                    </button>
                    <button class="w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 group transition-colors" onclick="showToast('Opening Notice...')">
                        <div class="text-xs text-gray-400 group-hover:text-royal-600">Jun 15, 2023</div>
                        <div class="font-bold text-sm text-slate-700 group-hover:text-royal-800">Book List for Academic Year 2080</div>
                    </button>
                </div>
                <div class="text-center mt-4">
                    <button onclick="window.handleLoadMore(this)" class="text-xs text-royal-800 hover:underline font-bold">Load More...</button>
                </div>
            `);
        }
    </script>

    <!-- MAIN LOGIC SCRIPT -->
    <script type="module">
        import { GoogleGenAI } from "@google/genai";

        // --- ICONS INITIALIZATION ---
        lucide.createIcons();

        // --- UTILS ---
        const $ = (selector) => document.querySelector(selector);
        
        // --- HEADER SCROLL LOGIC ---
        const header = $('#main-header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('bg-white', 'shadow-md', 'py-3');
                header.classList.remove('bg-white/95', 'backdrop-blur-sm', 'py-4', 'md:py-5', 'border-b', 'border-gray-100');
            } else {
                header.classList.remove('bg-white', 'shadow-md', 'py-3');
                header.classList.add('bg-white/95', 'backdrop-blur-sm', 'py-4', 'md:py-5', 'border-b', 'border-gray-100');
            }
        });

        // --- MOBILE MENU LOGIC ---
        const mobileMenuBtn = $('#mobile-menu-btn');
        const mobileMenu = $('#mobile-menu');
        const menuIcon = $('#menu-icon');
        const closeIcon = $('#close-icon');

        function toggleMenu() {
            mobileMenu.classList.toggle('hidden');
            menuIcon.classList.toggle('hidden');
            closeIcon.classList.toggle('hidden');
        }

        mobileMenuBtn.addEventListener('click', toggleMenu);

        // --- CHAT ASSISTANT LOGIC ---
        const assistantToggle = $('#assistant-toggle');
        const assistantWindow = $('#assistant-window');
        const chatMinimize = $('#chat-minimize');
        const chatInput = $('#chat-input');
        const chatSend = $('#chat-send');
        const chatMessages = $('#chat-messages');
        const sendIcon = $('#send-icon');
        const loadingIcon = $('#loading-icon');

        // Set initial time
        document.getElementById('initial-time').innerText = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

        let isChatOpen = false;
        let chatHistory = [{
            role: 'model',
            parts: [{ text: 'Welcome to Hillside English School. I am your Virtual Assistant. How may I help you today?' }]
        }];

        function toggleChat() {
            isChatOpen = !isChatOpen;
            if (isChatOpen) {
                assistantWindow.classList.remove('opacity-0', 'translate-y-10', 'pointer-events-none', 'w-0', 'h-0');
                assistantWindow.classList.add('opacity-100', 'translate-y-0', 'w-[90vw]', 'h-[80vh]', 'md:w-[400px]', 'md:h-[600px]');
                assistantToggle.classList.add('scale-0', 'opacity-0');
                assistantToggle.classList.remove('scale-100', 'opacity-100');
                setTimeout(() => chatInput.focus(), 300);
            } else {
                assistantWindow.classList.add('opacity-0', 'translate-y-10', 'pointer-events-none', 'w-0', 'h-0');
                assistantWindow.classList.remove('opacity-100', 'translate-y-0', 'w-[90vw]', 'h-[80vh]', 'md:w-[400px]', 'md:h-[600px]');
                assistantToggle.classList.remove('scale-0', 'opacity-0');
                assistantToggle.classList.add('scale-100', 'opacity-100');
            }
        }

        assistantToggle.addEventListener('click', toggleChat);
        chatMinimize.addEventListener('click', toggleChat);

        chatInput.addEventListener('input', (e) => {
            chatSend.disabled = !e.target.value.trim();
        });

        chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !chatSend.disabled) {
                handleSend();
            }
        });

        chatSend.addEventListener('click', handleSend);

        function appendMessage(role, text) {
            const isUser = role === 'user';
            const alignClass = isUser ? 'justify-end' : 'justify-start';
            const bubbleClass = isUser 
                ? 'bg-slate-800 text-white rounded-br-none' 
                : 'bg-white text-gray-800 border border-gray-100 rounded-bl-none';
            const timeAlign = isUser ? 'text-right' : 'text-left';
            
            const html = `
                <div class="flex ${alignClass}">
                    <div class="max-w-[85%] rounded-2xl p-3 text-sm leading-relaxed shadow-sm ${bubbleClass}">
                        ${text}
                        <div class="text-[10px] mt-1 opacity-50 ${timeAlign}">
                            ${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
                        </div>
                    </div>
                </div>
            `;
            
            chatMessages.insertAdjacentHTML('beforeend', html);
            chatMessages.scrollTo({ top: chatMessages.scrollHeight, behavior: 'smooth' });
        }

        function showLoading() {
            const html = `
                <div class="flex justify-start w-full" id="loading-bubble">
                    <div class="bg-white border border-gray-100 rounded-2xl rounded-bl-none p-4 shadow-sm">
                        <div class="flex space-x-1">
                            <div class="w-2 h-2 bg-royal-800 rounded-full animate-bounce" style="animation-delay: 0ms"></div>
                            <div class="w-2 h-2 bg-royal-800 rounded-full animate-bounce" style="animation-delay: 150ms"></div>
                            <div class="w-2 h-2 bg-royal-800 rounded-full animate-bounce" style="animation-delay: 300ms"></div>
                        </div>
                    </div>
                </div>
            `;
            chatMessages.insertAdjacentHTML('beforeend', html);
            chatMessages.scrollTo({ top: chatMessages.scrollHeight, behavior: 'smooth' });
        }

        function removeLoading() {
            const loader = document.getElementById('loading-bubble');
            if (loader) loader.remove();
        }

        async function handleSend() {
            const text = chatInput.value.trim();
            if (!text) return;

            // UI Updates
            chatInput.value = '';
            chatSend.disabled = true;
            appendMessage('user', text);
            showLoading();
            sendIcon.classList.add('hidden');
            loadingIcon.classList.remove('hidden');

            // API Call
            try {
                const responseText = await callGeminiAPI(text);
                removeLoading();
                appendMessage('model', responseText);
            } catch (error) {
                removeLoading();
                appendMessage('model', "I'm having trouble connecting to the network.");
                console.error(error);
            } finally {
                sendIcon.classList.remove('hidden');
                loadingIcon.classList.add('hidden');
                chatInput.focus();
            }
        }

        const SYSTEM_INSTRUCTION = `
        You are the "Hillside Assistant," a helpful, knowledgeable, and professional AI guide for Hillside English School in Pokhara, Nepal.
        Your tone should be academic, polite, and encouraging.
        You can answer questions about admissions (Pre-primary to Class 10), the Principal (Mr. Dili Ram Bhattarai), location (Malepatan-12), and school activities.
        The school motto is "Empowering minds, inspiring futures".
        If asked about specific tuition fees or application deadlines, provide general estimates but advise checking the official admissions page or contacting the school office at 985-6031780.
        Briefly summarize answers to keep the chat conversational.
        Do not make up facts if you don't know them; politely suggest contacting the main office.
        `;

        async function callGeminiAPI(userText) {
            const apiKey = process.env.API_KEY;
            if (!apiKey) return "API Key is missing. I cannot connect to the server.";

            const ai = new GoogleGenAI({ apiKey });
            
            // Build history for the SDK
            const history = chatHistory.map(msg => ({
                role: msg.role,
                parts: msg.parts
            }));

            const chat = ai.chats.create({
                model: 'gemini-3-flash-preview',
                config: {
                    systemInstruction: SYSTEM_INSTRUCTION,
                    temperature: 0.7,
                },
                history: history,
            });

            const result = await chat.sendMessage({ message: userText });
            const responseText = result.text || "I didn't understand that.";
            
            // Update local history
            chatHistory.push({ role: 'user', parts: [{ text: userText }] });
            chatHistory.push({ role: 'model', parts: [{ text: responseText }] });

            return responseText;
        }
    </script>
  <script type="module" src="/index.tsx"></script>
</body>
</html>
